<!DOCTYPE html>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="https://unpkg.com/maptalks/dist/maptalks.css">
  <script type="text/javascript" src="https://unpkg.com/maptalks/dist/maptalks.js"></script>
  <title>UI组件 - 自定义信息框</title>
  <body>
    
    <div id="map"></div>
    <script>

      var map = new maptalks.Map('map', {
        center: [-0.113049,51.49856],
        zoom: 14,
        baseLayer: new maptalks.TileLayer('base', {
          urlTemplate: 'http://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png',
          subdomains: ['a','b','c','d','e']
        })
      });

      var extent = map.getExtent();
      var w = extent.getWidth(),
        h = extent.getHeight();

      for (var i = 0; i < 5; i++) {
        setTimeout(addInfo, 500 * i);
      }

      function addInfo() {
        var coordinate = extent.getMin()
          .add(Math.random() * w, Math.random() * h)
          .toFixed(3);

        var options = {
          'single' : false,
          'width'  : 183,
          'height' : 105,
          'custom' : true,
          'dx' : -3,
          'dy' : -20,
          'content'   : '<div class="content">' +
            '<div class="pop_title">Custom InfoWindow</div>' +
            '<div class="pop_time">' + new Date().toLocaleTimeString() + '</div><br>' +
            '<div class="pop_dept">' + coordinate.x + '</div>' +
            '<div class="pop_dept">' + coordinate.y + '</div>' +
            '<div class="arrow"></div>' +
            '</div>'
        };
        var infoWindow = new maptalks.ui.InfoWindow(options);
        infoWindow.addTo(map).show(coordinate);
      }

    </script>
  </body>
